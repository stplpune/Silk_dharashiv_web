<mat-card class="plain-card form-container">
    <mat-card-header class="card-header-control">
        <form [formGroup]="filterFrm" class="w-100">
        <div class="row w-100 g-2">
            <div class="col-sm-2">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{'manrega.district'| translate}}</mat-label>
                    <mat-select formControlName="districtId" (selectionChange)="getTaluka()" placeholder="District"
                    [class]="WebStorageService.getDistrictId() ? f['districtId'].disable({ onlySelf: true }) : f['districtId'].enable({ onlySelf: true })">
                      <mat-option *ngFor=" let dist of districtArr" [value]="dist.id">{{lang == 'en' ? dist.textEnglish :
                        dist.textMarathi}}</mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-sm-2">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{'manrega.taluka'| translate}}</mat-label>
                    <mat-select formControlName="talukaId" (selectionChange)="clearDropdown('Taluka');getGrampanchayat()" placeholder="All Taluka"
                    [class]="WebStorageService.getTalukaId() ? f['talukaId'].disable({ onlySelf: true }) : f['talukaId'].enable({ onlySelf: true })">
                    <mat-option>
                      <ngx-mat-select-search [formControl]="talukaCtrl"
                          placeholderLabel="{{lang == 'en' ? 'Search Grampanchayat Name' : 'ग्रामपंचायतीचे नाव शोधा'}}"
                          noEntriesFoundLabel="{{lang == 'en' ? 'No Data Found' : 'माहिती उपलब्ध नाही'}}"></ngx-mat-select-search>
                  </mat-option>
                    <mat-option *ngFor=" let taluka of talukaSubject | async" [value]="taluka.id">{{lang == 'en' ? taluka.textEnglish :
                        taluka.textMarathi}}</mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-sm-2">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{'common.grampanchayat_filter'| translate}} </mat-label>
                    <mat-select formControlName="grampanchayatId" placeholder="{{lang == 'en' ? 'Grampanchayat' :'ग्रामपंचायत'}}"
                    [class]="WebStorageService.getGrampanchayatId() || !filterFrm.getRawValue().talukaId ? f['grampanchayatId'].disable({ onlySelf: true }) : f['grampanchayatId'].enable({ onlySelf: true })">
                    <mat-option>
                      <ngx-mat-select-search [formControl]="gramPCtrl"
                          placeholderLabel="{{lang == 'en' ? 'Search Grampanchayat Name' : 'ग्रामपंचायतीचे नाव शोधा'}}"
                          noEntriesFoundLabel="{{lang == 'en' ? 'No Data Found' : 'माहिती उपलब्ध नाही'}}"></ngx-mat-select-search>
                  </mat-option>
                      <mat-option *ngFor=" let gram of gramPSubject | async" [value]="gram.id">{{lang == 'en' ? gram.textEnglish :
                        gram.textMarathi}}</mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-sm-2">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{'manrega.scheme'| translate}}</mat-label>
                    <mat-select formControlName="schemeTypeId" placeholder="All Scheme">
                      <mat-option *ngFor=" let scheme of schemeFilterArr" [value]="scheme.id">{{lang == 'en' ?
                        scheme.textEnglish : scheme.textMarathi}}</mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-sm">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{'common.action'| translate}}</mat-label>
                    <mat-select formControlName="actionId" placeholder="All Scheme">
                      <mat-option *ngFor=" let action of actionArr" [value]="action.id">{{lang == 'en' ?
                        action.textEnglish : action.textMarathi}}</mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-sm-auto">
                <div class="d-flex align-items-center gap-2">
                    <button mat-flat-button class="btn-main btn-icon" matTooltip="edit" type="button"   (click)="getDashboardCount('filter')">
                        <mat-icon class="material-symbols-rounded">
                            search
                        </mat-icon>
                    </button>
                    <button mat-flat-button class="btn-main-light btn-icon" matTooltip="edit" type="button">
                        <mat-icon class="material-symbols-rounded">
                            close
                        </mat-icon>
                    </button>
                </div>
            </div>
        </div>
        </form>
    </mat-card-header>
    <mat-card-content class="card-body" id="dash-stats">
        <div class="row g-2">
            <div class="col-sm">
                <div class="card card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <img src="assets/images/dashboard-icons/applications.svg" alt="Total Applications"
                                class="green">
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h2>{{dashboardData?.responseData?.totalApplications}}</h2>
                            <p>Total Applications</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm">
                <div class="card card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <img src="assets/images/dashboard-icons/beneficiary.svg" alt="Total Beneficiaries"
                                class="red">
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h2>{{dashboardData?.responseData?.totalBeneficiaries}}</h2>
                            <p>Total Beneficiaries</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm">
                <div class="card card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <img src="assets/images/dashboard-icons/land.svg" alt="Land Cultivated (Hector)"
                                class="blue">
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h2>{{dashboardData?.responseData?.totalLandCultivatedHectors}}</h2>
                            <p>Land Cultivated <small class="text-muted">(Hector)</small></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm">
                <div class="card card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <img src="assets/images/dashboard-icons/total.svg" alt="Total DBT(INR)" class="green-blue">
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h2>{{dashboardData?.responseData?.totalDBT}}</h2>
                            <p>Total DBT (INR)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row g-2 align-items-center">
           
            <div class="col-sm-3">
                <div class="card card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <img src="assets/images/dashboard-icons/manarega.svg" alt="Manrega Applications"
                                class="olive">
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h2>142</h2>
                            <p>{{dashboardData?.responseData1[0]?.schemeType}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-9">
                <table class="table dashboard-table mb-0">
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>Approved</th>
                            <th>Pending</th>
                            <th>Resend</th>
                            <th>Rejected</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngFor="let result of appDetailsArray">
                            <tr *ngFor="let res of result?.detailsArr">
                                <td>{{res?.actionName}}</td>
                                <td>
                                    <a class="text-main text-decoration-underline" (click)="redToAppPage(res,12)">{{res?.approvedCount}}</a>
                                </td>
                                <td>
                                    <a class="text-main text-decoration-underline" (click)="redToAppPage(res,1)">{{res?.pendingCount}}</a>
                                </td>
                                <td>
                                    <a class="text-main text-decoration-underline" (click)="redToAppPage(res,11)">{{res?.resendCount}}</a>
                                </td>
                                <td>
                                    <a class="text-main text-decoration-underline" (click)="redToAppPage(res,5)">{{res?.rejectCount}}</a>
                                </td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
    
        </div>
        <hr>
        <!-- <div class="row g-2 align-items-center">
            <div class="col-sm-3">
                <div class="card card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <img src="assets/images/dashboard-icons/silk.svg" alt="Silk Samgra-2 Applications"
                                class="voilet">
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h2>142</h2>
                            <p>Silk Samgra-2 Applications</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-9">
                <table class="table dashboard-table mb-0">
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>Approved</th>
                            <th>Pending</th>
                            <th>Resend</th>
                            <th>Rejected</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Technical Estimate</td>
                            <td>
                                <a href="#" class="text-main text-decoration-underline">66</a>
                            </td>
                            <td>
                                <a href="#" class="text-main text-decoration-underline">26</a>
                            </td>
                            <td>
                                <a href="#" class="text-main text-decoration-underline">03</a>
                            </td>
                            <td>
                                <a href="#" class="text-main text-decoration-underline">12</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div> -->
    </mat-card-content>
</mat-card>